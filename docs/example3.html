<!DOCTYPE html>
<html>
  <head>
    <link href="css/tutorial.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div class="content">
      <h1>Example 3: Lemon or Lime</h1>
      <span class="date">July 20, 2017</span>
      <p>While grocery stores typically stock green limes in their fresh produce section, a lime will actually turn yellow when fully ripe. When fully ripe, they look very similar to lemons, which turn yellow just as they begin to ripen. People who have both a lemon tree and a lime tree in their backyard need to learn other ways to tell them apart, else they run the risk of stirring up a lemon margarita. The natural approach is to be an empiricist, and learn to classify based on the the conditional probabilities that connect limes and lemons to their features.</p>
      <p>Here is a table that summarizes the features of 1000 observations of lemons and limes.</p>
      <table>
	<tr>
	  <th>Fruit</th>
	  <th>Count</th>
	  <th>Yellow</th>
	  <th>Not yellow</th>
	  <th>Round</th>
	  <th>Not round</th>
	</tr>
	<tr>
	  <td>Lime</td>
	  <td>600</td>
	  <td>550</td>
	  <td>50</td>
	  <td>300</td>
	  <td>300</td>
	</tr>
	<tr>
	  <td>Lemon</td>
	  <td>400</td>
	  <td>350</td>
	  <td>50</td>
	  <td>30</td>
	  <td>370</td>
	</tr>
	<tr>
	  <td>Total</td>
	  <td>1000</td>
	  <td>900</td>
	  <td>100</td>
	  <td>330</td>
	  <td>670</td>
	</tr>
      </table>

      <p>Given a table of this sort, we should be able to make an educated guess about whether we've got a lemon or a lime in our hand, based on whether it or not it is yellow and if it is round. Let's use Etcetera Abduction to automatically make the classification for us.</p>

      <p>First, we'll establish the prior probabilities of our two class labels, <code>lemon</code> and <code>lime</code>. These numbers are simply the number of fruit in our sample of each type, divided by the total number (1000), encoded as follows:</p>

      <pre>;; Prior probabilities of class labels
(if (etc0_lime 0.6 x) (lime x)) ;; 600 / 1000
(if (etc0_lemon 0.4 x) (lemon x)) ;; 400 / 1000
</pre>

      <p>Second, we'll calculate all of the relevant conditional probabilities. For each of the four features, we calculate a conditional probability of the feature given a class label. This is simply the fraction of class instances that have the feature.</p>
      <pre>;; conditional probabilities of the features given the class
(if (and (lime x) (etc1_yellow 0.9166666667 x)) ;; 550 / 600
    (yellow x))
(if (and (lime x) (etc1_not_yellow 0.08333333333 x)) ;; 50 / 600
    (not_yellow x))
(if (and (lemon x) (etc2_yellow 0.875 x)) ;; 350 / 400
    (yellow x))
(if (and (lemon x) (etc2_not_yellow 0.125 x)) ;; 50 / 400
    (not_yellow x))
(if (and (lime x) (etc1_round 0.5 x)) ;; 300 / 600
    (round x))
(if (and (lime x) (etc1_not_round 0.5 x)) ;; 300 / 600
    (not_round x))
(if (and (lemon x) (etc2_round 0.075)) ;; 30 / 400
    (round x))
(if (and (lemon x) (etc2_not_round 0.925)) ;; 370 / 400
    (not_round x))
</pre>
      <p>Finally, we'll need to specify the observables. Let's imagine that we are staring at four different fruit, each with their own unique combination of features, as follows:</p>
      <pre>;; Observables: Four different fruit

(yellow FRUIT1)
(not_round FRUIT1)

(yellow FRUIT2)
(round FRUIT2)

(not_yellow FRUIT3)
(not_round FRUIT3)

(not_yellow FRUIT4)
(round FRUIT4)
</pre>      
      <p>Now let's ask Etcetera Abduction to give us an interpretation, and then graph it out.</p>
      <pre>python etcabductionpy/ -i lemon-lime.lisp -g | ./util/dot2safari</pre>

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="540pt" viewBox="0.00 0.00 2032.87 196.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 192)">
<title>proof</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-192 2028.87,-192 2028.87,4 -4,4"/>
<!-- n0 -->
<g id="node1" class="node"><title>n0</title>
<ellipse fill="none" stroke="black" cx="248.72" cy="-170" rx="71.5117" ry="18"/>
<text text-anchor="middle" x="248.72" y="-165.8" font-family="Times,serif" font-size="14.00">etc0_lemmon 0.4</text>
</g>
<!-- n12 -->
<g id="node13" class="node"><title>n12</title>
<polygon fill="none" stroke="black" points="304.486,-116 192.954,-116 192.954,-80 304.486,-80 304.486,-116"/>
<text text-anchor="middle" x="248.72" y="-93.8" font-family="Times,serif" font-size="14.00">(lemon FRUIT1)</text>
</g>
<!-- n0&#45;&gt;n12 -->
<g id="edge1" class="edge"><title>n0-&gt;n12</title>
<path fill="none" stroke="black" d="M248.72,-151.697C248.72,-143.983 248.72,-134.712 248.72,-126.112"/>
<polygon fill="black" stroke="black" points="252.22,-126.104 248.72,-116.104 245.22,-126.104 252.22,-126.104"/>
</g>
<!-- n1 -->
<g id="node2" class="node"><title>n1</title>
<ellipse fill="none" stroke="black" cx="739.72" cy="-170" rx="71.5117" ry="18"/>
<text text-anchor="middle" x="739.72" y="-165.8" font-family="Times,serif" font-size="14.00">etc0_lemmon 0.4</text>
</g>
<!-- n13 -->
<g id="node14" class="node"><title>n13</title>
<polygon fill="none" stroke="black" points="795.486,-116 683.954,-116 683.954,-80 795.486,-80 795.486,-116"/>
<text text-anchor="middle" x="739.72" y="-93.8" font-family="Times,serif" font-size="14.00">(lemon FRUIT3)</text>
</g>
<!-- n1&#45;&gt;n13 -->
<g id="edge2" class="edge"><title>n1-&gt;n13</title>
<path fill="none" stroke="black" d="M739.72,-151.697C739.72,-143.983 739.72,-134.712 739.72,-126.112"/>
<polygon fill="black" stroke="black" points="743.22,-126.104 739.72,-116.104 736.22,-126.104 743.22,-126.104"/>
</g>
<!-- n2 -->
<g id="node3" class="node"><title>n2</title>
<ellipse fill="none" stroke="black" cx="1208.72" cy="-170" rx="58.4823" ry="18"/>
<text text-anchor="middle" x="1208.72" y="-165.8" font-family="Times,serif" font-size="14.00">etc0_lime 0.6</text>
</g>
<!-- n14 -->
<g id="node15" class="node"><title>n14</title>
<polygon fill="none" stroke="black" points="1259.38,-116 1158.06,-116 1158.06,-80 1259.38,-80 1259.38,-116"/>
<text text-anchor="middle" x="1208.72" y="-93.8" font-family="Times,serif" font-size="14.00">(lime FRUIT2)</text>
</g>
<!-- n2&#45;&gt;n14 -->
<g id="edge3" class="edge"><title>n2-&gt;n14</title>
<path fill="none" stroke="black" d="M1208.72,-151.697C1208.72,-143.983 1208.72,-134.712 1208.72,-126.112"/>
<polygon fill="black" stroke="black" points="1212.22,-126.104 1208.72,-116.104 1205.22,-126.104 1212.22,-126.104"/>
</g>
<!-- n3 -->
<g id="node4" class="node"><title>n3</title>
<ellipse fill="none" stroke="black" cx="1829.72" cy="-170" rx="58.4823" ry="18"/>
<text text-anchor="middle" x="1829.72" y="-165.8" font-family="Times,serif" font-size="14.00">etc0_lime 0.6</text>
</g>
<!-- n15 -->
<g id="node16" class="node"><title>n15</title>
<polygon fill="none" stroke="black" points="1880.38,-116 1779.06,-116 1779.06,-80 1880.38,-80 1880.38,-116"/>
<text text-anchor="middle" x="1829.72" y="-93.8" font-family="Times,serif" font-size="14.00">(lime FRUIT4)</text>
</g>
<!-- n3&#45;&gt;n15 -->
<g id="edge4" class="edge"><title>n3-&gt;n15</title>
<path fill="none" stroke="black" d="M1829.72,-151.697C1829.72,-143.983 1829.72,-134.712 1829.72,-126.112"/>
<polygon fill="black" stroke="black" points="1833.22,-126.104 1829.72,-116.104 1826.22,-126.104 1833.22,-126.104"/>
</g>
<!-- n4 -->
<g id="node5" class="node"><title>n4</title>
<ellipse fill="none" stroke="black" cx="1634.72" cy="-98" rx="126.563" ry="18"/>
<text text-anchor="middle" x="1634.72" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_not_yellow 0.08333333333</text>
</g>
<!-- n22 -->
<g id="node23" class="node"><title>n22</title>
<polygon fill="none" stroke="black" points="1726.48,-40 1586.96,-40 1586.96,-4 1726.48,-4 1726.48,-40"/>
<polygon fill="none" stroke="black" points="1730.49,-44 1582.95,-44 1582.95,-0 1730.49,-0 1730.49,-44"/>
<text text-anchor="middle" x="1656.72" y="-17.8" font-family="Times,serif" font-size="14.00">(not_yellow FRUIT4)</text>
</g>
<!-- n4&#45;&gt;n22 -->
<g id="edge17" class="edge"><title>n4-&gt;n22</title>
<path fill="none" stroke="black" d="M1639.82,-79.8369C1642.13,-72.0816 1644.92,-62.6755 1647.57,-53.7659"/>
<polygon fill="black" stroke="black" points="1650.97,-54.615 1650.47,-44.0322 1644.26,-52.6202 1650.97,-54.615"/>
</g>
<!-- n5 -->
<g id="node6" class="node"><title>n5</title>
<ellipse fill="none" stroke="black" cx="1076.72" cy="-98" rx="63.3097" ry="18"/>
<text text-anchor="middle" x="1076.72" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_round 0.5</text>
</g>
<!-- n20 -->
<g id="node21" class="node"><title>n20</title>
<polygon fill="none" stroke="black" points="1173.16,-40 1064.28,-40 1064.28,-4 1173.16,-4 1173.16,-40"/>
<polygon fill="none" stroke="black" points="1177.15,-44 1060.29,-44 1060.29,-0 1177.15,-0 1177.15,-44"/>
<text text-anchor="middle" x="1118.72" y="-17.8" font-family="Times,serif" font-size="14.00">(round FRUIT2)</text>
</g>
<!-- n5&#45;&gt;n20 -->
<g id="edge13" class="edge"><title>n5-&gt;n20</title>
<path fill="none" stroke="black" d="M1086.46,-79.8369C1091.01,-71.8314 1096.55,-62.0669 1101.75,-52.9053"/>
<polygon fill="black" stroke="black" points="1104.89,-54.4567 1106.78,-44.0322 1098.8,-51.0014 1104.89,-54.4567"/>
</g>
<!-- n6 -->
<g id="node7" class="node"><title>n6</title>
<ellipse fill="none" stroke="black" cx="1961.72" cy="-98" rx="63.3097" ry="18"/>
<text text-anchor="middle" x="1961.72" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_round 0.5</text>
</g>
<!-- n23 -->
<g id="node24" class="node"><title>n23</title>
<polygon fill="none" stroke="black" points="1950.16,-40 1841.28,-40 1841.28,-4 1950.16,-4 1950.16,-40"/>
<polygon fill="none" stroke="black" points="1954.15,-44 1837.29,-44 1837.29,-0 1954.15,-0 1954.15,-44"/>
<text text-anchor="middle" x="1895.72" y="-17.8" font-family="Times,serif" font-size="14.00">(round FRUIT4)</text>
</g>
<!-- n6&#45;&gt;n23 -->
<g id="edge19" class="edge"><title>n6-&gt;n23</title>
<path fill="none" stroke="black" d="M1946.74,-80.2083C1939.24,-71.7963 1929.95,-61.3741 1921.35,-51.7394"/>
<polygon fill="black" stroke="black" points="1923.93,-49.3682 1914.66,-44.2349 1918.7,-54.0275 1923.93,-49.3682"/>
</g>
<!-- n7 -->
<g id="node8" class="node"><title>n7</title>
<ellipse fill="none" stroke="black" cx="1383.72" cy="-98" rx="106.275" ry="18"/>
<text text-anchor="middle" x="1383.72" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_yellow 0.9166666667</text>
</g>
<!-- n21 -->
<g id="node22" class="node"><title>n21</title>
<polygon fill="none" stroke="black" points="1398.08,-40 1283.36,-40 1283.36,-4 1398.08,-4 1398.08,-40"/>
<polygon fill="none" stroke="black" points="1402.1,-44 1279.34,-44 1279.34,-0 1402.1,-0 1402.1,-44"/>
<text text-anchor="middle" x="1340.72" y="-17.8" font-family="Times,serif" font-size="14.00">(yellow FRUIT2)</text>
</g>
<!-- n7&#45;&gt;n21 -->
<g id="edge15" class="edge"><title>n7-&gt;n21</title>
<path fill="none" stroke="black" d="M1373.75,-79.8369C1369.1,-71.8314 1363.42,-62.0669 1358.1,-52.9053"/>
<polygon fill="black" stroke="black" points="1360.99,-50.92 1352.94,-44.0322 1354.94,-54.4369 1360.99,-50.92"/>
</g>
<!-- n8 -->
<g id="node9" class="node"><title>n8</title>
<ellipse fill="none" stroke="black" cx="87.7203" cy="-98" rx="87.9412" ry="18"/>
<text text-anchor="middle" x="87.7203" y="-93.8" font-family="Times,serif" font-size="14.00">etc2_not_round 0.925</text>
</g>
<!-- n16 -->
<g id="node17" class="node"><title>n16</title>
<polygon fill="none" stroke="black" points="159.55,-40 25.891,-40 25.891,-4 159.55,-4 159.55,-40"/>
<polygon fill="none" stroke="black" points="163.545,-44 21.896,-44 21.896,-0 163.545,-0 163.545,-44"/>
<text text-anchor="middle" x="92.7203" y="-17.8" font-family="Times,serif" font-size="14.00">(not_round FRUIT1)</text>
</g>
<!-- n8&#45;&gt;n16 -->
<g id="edge5" class="edge"><title>n8-&gt;n16</title>
<path fill="none" stroke="black" d="M88.88,-79.8369C89.3984,-72.165 90.0259,-62.8775 90.6221,-54.0535"/>
<polygon fill="black" stroke="black" points="94.117,-54.2454 91.2992,-44.0322 87.133,-53.7735 94.117,-54.2454"/>
</g>
<!-- n9 -->
<g id="node10" class="node"><title>n9</title>
<ellipse fill="none" stroke="black" cx="578.72" cy="-98" rx="87.9412" ry="18"/>
<text text-anchor="middle" x="578.72" y="-93.8" font-family="Times,serif" font-size="14.00">etc2_not_round 0.925</text>
</g>
<!-- n18 -->
<g id="node19" class="node"><title>n18</title>
<polygon fill="none" stroke="black" points="686.55,-40 552.891,-40 552.891,-4 686.55,-4 686.55,-40"/>
<polygon fill="none" stroke="black" points="690.545,-44 548.896,-44 548.896,-0 690.545,-0 690.545,-44"/>
<text text-anchor="middle" x="619.72" y="-17.8" font-family="Times,serif" font-size="14.00">(not_round FRUIT3)</text>
</g>
<!-- n9&#45;&gt;n18 -->
<g id="edge9" class="edge"><title>n9-&gt;n18</title>
<path fill="none" stroke="black" d="M588.23,-79.8369C592.665,-71.8314 598.075,-62.0669 603.151,-52.9053"/>
<polygon fill="black" stroke="black" points="606.282,-54.4756 608.067,-44.0322 600.159,-51.0831 606.282,-54.4756"/>
</g>
<!-- n10 -->
<g id="node11" class="node"><title>n10</title>
<ellipse fill="none" stroke="black" cx="904.72" cy="-98" rx="91.3153" ry="18"/>
<text text-anchor="middle" x="904.72" y="-93.8" font-family="Times,serif" font-size="14.00">etc2_not_yellow 0.125</text>
</g>
<!-- n19 -->
<g id="node20" class="node"><title>n19</title>
<polygon fill="none" stroke="black" points="933.479,-40 793.962,-40 793.962,-4 933.479,-4 933.479,-40"/>
<polygon fill="none" stroke="black" points="937.486,-44 789.954,-44 789.954,-0 937.486,-0 937.486,-44"/>
<text text-anchor="middle" x="863.72" y="-17.8" font-family="Times,serif" font-size="14.00">(not_yellow FRUIT3)</text>
</g>
<!-- n10&#45;&gt;n19 -->
<g id="edge11" class="edge"><title>n10-&gt;n19</title>
<path fill="none" stroke="black" d="M895.211,-79.8369C890.776,-71.8314 885.365,-62.0669 880.289,-52.9053"/>
<polygon fill="black" stroke="black" points="883.281,-51.0831 875.373,-44.0322 877.158,-54.4756 883.281,-51.0831"/>
</g>
<!-- n11 -->
<g id="node12" class="node"><title>n11</title>
<ellipse fill="none" stroke="black" cx="397.72" cy="-98" rx="75.3707" ry="18"/>
<text text-anchor="middle" x="397.72" y="-93.8" font-family="Times,serif" font-size="14.00">etc2_yellow 0.875</text>
</g>
<!-- n17 -->
<g id="node18" class="node"><title>n17</title>
<polygon fill="none" stroke="black" points="380.085,-40 265.356,-40 265.356,-4 380.085,-4 380.085,-40"/>
<polygon fill="none" stroke="black" points="384.097,-44 261.344,-44 261.344,-0 384.097,-0 384.097,-44"/>
<text text-anchor="middle" x="322.72" y="-17.8" font-family="Times,serif" font-size="14.00">(yellow FRUIT1)</text>
</g>
<!-- n11&#45;&gt;n17 -->
<g id="edge7" class="edge"><title>n11-&gt;n17</title>
<path fill="none" stroke="black" d="M380.702,-80.2083C372.092,-71.713 361.404,-61.1675 351.558,-51.4535"/>
<polygon fill="black" stroke="black" points="353.819,-48.7669 344.242,-44.2349 348.902,-53.7498 353.819,-48.7669"/>
</g>
<!-- n12&#45;&gt;n16 -->
<g id="edge6" class="edge"><title>n12-&gt;n16</title>
<path fill="none" stroke="black" d="M212.539,-79.8369C192.849,-70.4972 168.113,-58.7632 146.236,-48.3857"/>
<polygon fill="black" stroke="black" points="147.594,-45.1558 137.058,-44.0322 144.593,-51.4804 147.594,-45.1558"/>
</g>
<!-- n12&#45;&gt;n17 -->
<g id="edge8" class="edge"><title>n12-&gt;n17</title>
<path fill="none" stroke="black" d="M265.883,-79.8369C274.389,-71.3311 284.881,-60.8395 294.525,-51.1952"/>
<polygon fill="black" stroke="black" points="297.092,-53.5782 301.688,-44.0322 292.142,-48.6284 297.092,-53.5782"/>
</g>
<!-- n13&#45;&gt;n18 -->
<g id="edge10" class="edge"><title>n13-&gt;n18</title>
<path fill="none" stroke="black" d="M711.888,-79.8369C697.284,-70.8307 679.069,-59.5983 662.698,-49.5026"/>
<polygon fill="black" stroke="black" points="664.175,-46.302 653.827,-44.0322 660.501,-52.2602 664.175,-46.302"/>
</g>
<!-- n13&#45;&gt;n19 -->
<g id="edge12" class="edge"><title>n13-&gt;n19</title>
<path fill="none" stroke="black" d="M768.48,-79.8369C783.711,-70.7473 802.742,-59.3901 819.78,-49.2225"/>
<polygon fill="black" stroke="black" points="821.684,-52.1623 828.477,-44.0322 818.096,-46.1513 821.684,-52.1623"/>
</g>
<!-- n14&#45;&gt;n20 -->
<g id="edge14" class="edge"><title>n14-&gt;n20</title>
<path fill="none" stroke="black" d="M1187.85,-79.8369C1177.3,-71.1643 1164.24,-60.4273 1152.32,-50.6289"/>
<polygon fill="black" stroke="black" points="1154.25,-47.6798 1144.3,-44.0322 1149.8,-53.0868 1154.25,-47.6798"/>
</g>
<!-- n14&#45;&gt;n21 -->
<g id="edge16" class="edge"><title>n14-&gt;n21</title>
<path fill="none" stroke="black" d="M1239.34,-79.8369C1255.7,-70.6639 1276.18,-59.1815 1294.44,-48.9429"/>
<polygon fill="black" stroke="black" points="1296.19,-51.9753 1303.2,-44.0322 1292.77,-45.8693 1296.19,-51.9753"/>
</g>
<!-- n15&#45;&gt;n22 -->
<g id="edge18" class="edge"><title>n15-&gt;n22</title>
<path fill="none" stroke="black" d="M1789.6,-79.8369C1767.47,-70.3721 1739.59,-58.4485 1715.09,-47.9695"/>
<polygon fill="black" stroke="black" points="1716.46,-44.7471 1705.89,-44.0322 1713.71,-51.183 1716.46,-44.7471"/>
</g>
<!-- n15&#45;&gt;n23 -->
<g id="edge20" class="edge"><title>n15-&gt;n23</title>
<path fill="none" stroke="black" d="M1845.03,-79.8369C1852.47,-71.4979 1861.61,-61.2501 1870.07,-51.7634"/>
<polygon fill="black" stroke="black" points="1872.92,-53.8248 1876.96,-44.0322 1867.69,-49.1655 1872.92,-53.8248"/>
</g>
</g>
</svg>


      <p>The result? The best interpretation of the observables is that we have two lemons and two limes.</p>

      <p>For those of you who have taken an introductory Artificial Intelligence course in your life, some of this may seem strangely familiar. Indeed, we have just used Etcetera Abduction to model a <u>Naive Bayes Classifier</u>. In general, a true Bayesian classifier tries to find the maximum joint probability of the observable features along with some number of possible class labels. In the Naive Bayes variant, the observation of any given feature given a class label is assumed to be probabilistically independent from that of any other feature. This is a wildly inappropriate assumption in many domains, even when talking about the yellowness and roundness of fruit. Still, Naive Bayes classification tends to perform quite well in practice for many problems, and is a standard baseline for comparison when considering fancier machine learning approaches.</p>

      <p>The important thing to note is that we're not doing something analogous to Naive Bayes, but rather computing our answer in exactly the same way as it is done in every Naive Bayes implementation, at least mathematically speaking. Naive Bayes algorithms typically iterate through each of the possible class labels, taking the product of the prior probability of the class and all of the conditional probabilities of the observable features given the class. For each of the four fruit in the graphic above, this is exactly what is computed by multiplying the numbers in the three ovals above each pair of observations (three assumptions per fruit). The oval in the top center is the prior probability of the class (<code>lemon</code> or <code>lime</code>), and the ovals on either side are the conditional probabilities of the observable feature given the class. If you multiply these three numbers, you'll get exactly the same number computed in implementations of naive Bayes for a candidate class. If in addition we knew the true joint probability of the observables (the ignored denominator in Naive Bayes), we could divide our product by this joint probability to compute the (Naive) probability of the class. In classification tasks, this denominator is ignored because it is both unknown (typically) and constant across possible class labels. Accordingly, Naive Bayes implementations are just looking for the <u>maximum</u> product in order to make its class label prediction. Etcetera Abduction ranks all possible interpretations by probability, so the interpretation with the most likely class labels (for all four fruit at once!) shows up as the top result.</p>

      <p>So, is Etcetera Abduction just a complicated way of doing Naive Bayes classifications? No, but you can certainly use Etcetera Abduction in this manner when you need to weigh between mutually exclusive classes.</p>

      <p>You will need to take some care when you are preparing your knowledge base for use in a classification task. Specifically, you need to adhere to these rules:</p>
      <ol>
	<li>The only prior probabilities encoded in the knowledge base should be for the mutually-exclusive class labels. In the example, these are encoded in the <code>etc0_lime</code> and <code>etc0_lemon</code> literals.</li>
	<li>The conditional probabilities of a feature for a given class must be encoded for all features and all classes. In the example, these are encoded in literals such as <code>etc2_yellow</code> and <code>etc1_not_round</code>.</li>
      </ol>

      <p>One interesting thing you can do, while still following these rules, is to explore "hierarchical Naive Bayes" classification. This is where your classification task goes more than one layer deep, i.e., where the class labels themselves are only intermediate steps in some higher-order classification task.</p>
      <p>We can see this in action by creating a second-level classification task on top of the "four-fruit" example above. Suppose that the real question of interest is what sort of tree did all four of these fruit come from? Maybe there is only one tree in our backyard, and we're trying to surmise if is really a lemon tree or a lime tree.</p>
      <p>To execute this classification, we need to modify our knowledge base to add some new information about lime and lemon trees, and to ensure that only these two new entites are assigned prior probabilities, as follows:</p>
      <pre>;; Previously specified prior probabilities are commented out

;; (if (etc0_lime 0.6 x) (lime x)) ;; commented out
;; (if (etc0_lemon 0.4 x) (lemon x)) ;; commented out

;; Prior probabilities of new class labels
(if (etc0_lime_tree 0.1 x) (lime_tree x))
(if (etc0_lemon_tree 0.1 x) (lemon_tree x))

;; Most lime trees produce limes (90%)
(if (and (lime_tree y)
	 (etc1_lime 0.9 x y))
    (lime x))

;; Most lemon trees produce lemons (90%)
(if (and (lemon_tree y)
	 (etc1_lemon 0.9 x y))
    (lemon x))
</pre>

      <p>Modifying our input file in this manner creates a much harder search problem, as Etcetera Abduction tries to find some combination of assumptions that can explain the eight observations that are all rooted in these two prior probabilities. If you let it spin for long enough, Etcetera Abduction finally returns your answer: there must be a lime tree in the backyard. Etcetera Abduction even assigns a nice name to this imagined tree: "$1".</p>

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="540pt" viewBox="0.00 0.00 2110.03 268.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 264)">
<title>proof</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-264 2106.03,-264 2106.03,4 -4,4"/>
<!-- n0 -->
<g id="node1" class="node"><title>n0</title>
<ellipse fill="none" stroke="black" cx="982.877" cy="-242" rx="75.8294" ry="18"/>
<text text-anchor="middle" x="982.877" y="-237.8" font-family="Times,serif" font-size="14.00">etc0_lime_tree 0.1</text>
</g>
<!-- n13 -->
<g id="node14" class="node"><title>n13</title>
<polygon fill="none" stroke="black" points="1030.56,-188 935.19,-188 935.19,-152 1030.56,-152 1030.56,-188"/>
<text text-anchor="middle" x="982.877" y="-165.8" font-family="Times,serif" font-size="14.00">(lime_tree $1)</text>
</g>
<!-- n0&#45;&gt;n13 -->
<g id="edge1" class="edge"><title>n0-&gt;n13</title>
<path fill="none" stroke="black" d="M982.877,-223.697C982.877,-215.983 982.877,-206.712 982.877,-198.112"/>
<polygon fill="black" stroke="black" points="986.377,-198.104 982.877,-188.104 979.377,-198.104 986.377,-198.104"/>
</g>
<!-- n1 -->
<g id="node2" class="node"><title>n1</title>
<ellipse fill="none" stroke="black" cx="225.877" cy="-170" rx="58.4823" ry="18"/>
<text text-anchor="middle" x="225.877" y="-165.8" font-family="Times,serif" font-size="14.00">etc1_lime 0.9</text>
</g>
<!-- n14 -->
<g id="node15" class="node"><title>n14</title>
<polygon fill="none" stroke="black" points="276.532,-116 175.221,-116 175.221,-80 276.532,-80 276.532,-116"/>
<text text-anchor="middle" x="225.877" y="-93.8" font-family="Times,serif" font-size="14.00">(lime FRUIT1)</text>
</g>
<!-- n1&#45;&gt;n14 -->
<g id="edge2" class="edge"><title>n1-&gt;n14</title>
<path fill="none" stroke="black" d="M225.877,-151.697C225.877,-143.983 225.877,-134.712 225.877,-126.112"/>
<polygon fill="black" stroke="black" points="229.377,-126.104 225.877,-116.104 222.377,-126.104 229.377,-126.104"/>
</g>
<!-- n2 -->
<g id="node3" class="node"><title>n2</title>
<ellipse fill="none" stroke="black" cx="720.877" cy="-170" rx="58.4823" ry="18"/>
<text text-anchor="middle" x="720.877" y="-165.8" font-family="Times,serif" font-size="14.00">etc1_lime 0.9</text>
</g>
<!-- n15 -->
<g id="node16" class="node"><title>n15</title>
<polygon fill="none" stroke="black" points="771.532,-116 670.221,-116 670.221,-80 771.532,-80 771.532,-116"/>
<text text-anchor="middle" x="720.877" y="-93.8" font-family="Times,serif" font-size="14.00">(lime FRUIT2)</text>
</g>
<!-- n2&#45;&gt;n15 -->
<g id="edge4" class="edge"><title>n2-&gt;n15</title>
<path fill="none" stroke="black" d="M720.877,-151.697C720.877,-143.983 720.877,-134.712 720.877,-126.112"/>
<polygon fill="black" stroke="black" points="724.377,-126.104 720.877,-116.104 717.377,-126.104 724.377,-126.104"/>
</g>
<!-- n3 -->
<g id="node4" class="node"><title>n3</title>
<ellipse fill="none" stroke="black" cx="1245.88" cy="-170" rx="58.4823" ry="18"/>
<text text-anchor="middle" x="1245.88" y="-165.8" font-family="Times,serif" font-size="14.00">etc1_lime 0.9</text>
</g>
<!-- n16 -->
<g id="node17" class="node"><title>n16</title>
<polygon fill="none" stroke="black" points="1296.53,-116 1195.22,-116 1195.22,-80 1296.53,-80 1296.53,-116"/>
<text text-anchor="middle" x="1245.88" y="-93.8" font-family="Times,serif" font-size="14.00">(lime FRUIT3)</text>
</g>
<!-- n3&#45;&gt;n16 -->
<g id="edge6" class="edge"><title>n3-&gt;n16</title>
<path fill="none" stroke="black" d="M1245.88,-151.697C1245.88,-143.983 1245.88,-134.712 1245.88,-126.112"/>
<polygon fill="black" stroke="black" points="1249.38,-126.104 1245.88,-116.104 1242.38,-126.104 1249.38,-126.104"/>
</g>
<!-- n4 -->
<g id="node5" class="node"><title>n4</title>
<ellipse fill="none" stroke="black" cx="1906.88" cy="-170" rx="58.4823" ry="18"/>
<text text-anchor="middle" x="1906.88" y="-165.8" font-family="Times,serif" font-size="14.00">etc1_lime 0.9</text>
</g>
<!-- n17 -->
<g id="node18" class="node"><title>n17</title>
<polygon fill="none" stroke="black" points="1957.53,-116 1856.22,-116 1856.22,-80 1957.53,-80 1957.53,-116"/>
<text text-anchor="middle" x="1906.88" y="-93.8" font-family="Times,serif" font-size="14.00">(lime FRUIT4)</text>
</g>
<!-- n4&#45;&gt;n17 -->
<g id="edge8" class="edge"><title>n4-&gt;n17</title>
<path fill="none" stroke="black" d="M1906.88,-151.697C1906.88,-143.983 1906.88,-134.712 1906.88,-126.112"/>
<polygon fill="black" stroke="black" points="1910.38,-126.104 1906.88,-116.104 1903.38,-126.104 1910.38,-126.104"/>
</g>
<!-- n5 -->
<g id="node6" class="node"><title>n5</title>
<ellipse fill="none" stroke="black" cx="78.8769" cy="-98" rx="78.7539" ry="18"/>
<text text-anchor="middle" x="78.8769" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_not_round 0.5</text>
</g>
<!-- n18 -->
<g id="node19" class="node"><title>n18</title>
<polygon fill="none" stroke="black" points="219.706,-40 86.0476,-40 86.0476,-4 219.706,-4 219.706,-40"/>
<polygon fill="none" stroke="black" points="223.701,-44 82.0525,-44 82.0525,-0 223.701,-0 223.701,-44"/>
<text text-anchor="middle" x="152.877" y="-17.8" font-family="Times,serif" font-size="14.00">(not_round FRUIT1)</text>
</g>
<!-- n5&#45;&gt;n18 -->
<g id="edge10" class="edge"><title>n5-&gt;n18</title>
<path fill="none" stroke="black" d="M95.6686,-80.2083C104.164,-71.713 114.709,-61.1675 124.423,-51.4535"/>
<polygon fill="black" stroke="black" points="127.046,-53.7808 131.642,-44.2349 122.096,-48.8311 127.046,-53.7808"/>
</g>
<!-- n6 -->
<g id="node7" class="node"><title>n6</title>
<ellipse fill="none" stroke="black" cx="1098.88" cy="-98" rx="78.7539" ry="18"/>
<text text-anchor="middle" x="1098.88" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_not_round 0.5</text>
</g>
<!-- n22 -->
<g id="node23" class="node"><title>n22</title>
<polygon fill="none" stroke="black" points="1210.71,-40 1077.05,-40 1077.05,-4 1210.71,-4 1210.71,-40"/>
<polygon fill="none" stroke="black" points="1214.7,-44 1073.05,-44 1073.05,-0 1214.7,-0 1214.7,-44"/>
<text text-anchor="middle" x="1143.88" y="-17.8" font-family="Times,serif" font-size="14.00">(not_round FRUIT3)</text>
</g>
<!-- n6&#45;&gt;n22 -->
<g id="edge18" class="edge"><title>n6-&gt;n22</title>
<path fill="none" stroke="black" d="M1109.31,-79.8369C1114.23,-71.748 1120.24,-61.8633 1125.87,-52.6192"/>
<polygon fill="black" stroke="black" points="1128.88,-54.395 1131.09,-44.0322 1122.9,-50.7579 1128.88,-54.395"/>
</g>
<!-- n7 -->
<g id="node8" class="node"><title>n7</title>
<ellipse fill="none" stroke="black" cx="1440.88" cy="-98" rx="126.563" ry="18"/>
<text text-anchor="middle" x="1440.88" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_not_yellow 0.08333333333</text>
</g>
<!-- n23 -->
<g id="node24" class="node"><title>n23</title>
<polygon fill="none" stroke="black" points="1421.64,-40 1282.12,-40 1282.12,-4 1421.64,-4 1421.64,-40"/>
<polygon fill="none" stroke="black" points="1425.64,-44 1278.11,-44 1278.11,-0 1425.64,-0 1425.64,-44"/>
<text text-anchor="middle" x="1351.88" y="-17.8" font-family="Times,serif" font-size="14.00">(not_yellow FRUIT3)</text>
</g>
<!-- n7&#45;&gt;n23 -->
<g id="edge20" class="edge"><title>n7-&gt;n23</title>
<path fill="none" stroke="black" d="M1420.68,-80.2083C1410.26,-71.5464 1397.28,-60.7532 1385.41,-50.883"/>
<polygon fill="black" stroke="black" points="1387.34,-47.937 1377.42,-44.2349 1382.87,-53.3195 1387.34,-47.937"/>
</g>
<!-- n8 -->
<g id="node9" class="node"><title>n8</title>
<ellipse fill="none" stroke="black" cx="1711.88" cy="-98" rx="126.563" ry="18"/>
<text text-anchor="middle" x="1711.88" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_not_yellow 0.08333333333</text>
</g>
<!-- n24 -->
<g id="node25" class="node"><title>n24</title>
<polygon fill="none" stroke="black" points="1836.64,-40 1697.12,-40 1697.12,-4 1836.64,-4 1836.64,-40"/>
<polygon fill="none" stroke="black" points="1840.64,-44 1693.11,-44 1693.11,-0 1840.64,-0 1840.64,-44"/>
<text text-anchor="middle" x="1766.88" y="-17.8" font-family="Times,serif" font-size="14.00">(not_yellow FRUIT4)</text>
</g>
<!-- n8&#45;&gt;n24 -->
<g id="edge22" class="edge"><title>n8-&gt;n24</title>
<path fill="none" stroke="black" d="M1724.63,-79.8369C1730.71,-71.6646 1738.14,-61.6593 1745.07,-52.3335"/>
<polygon fill="black" stroke="black" points="1748.09,-54.146 1751.24,-44.0322 1742.47,-49.9703 1748.09,-54.146"/>
</g>
<!-- n9 -->
<g id="node10" class="node"><title>n9</title>
<ellipse fill="none" stroke="black" cx="588.877" cy="-98" rx="63.3097" ry="18"/>
<text text-anchor="middle" x="588.877" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_round 0.5</text>
</g>
<!-- n20 -->
<g id="node21" class="node"><title>n20</title>
<polygon fill="none" stroke="black" points="685.314,-40 576.44,-40 576.44,-4 685.314,-4 685.314,-40"/>
<polygon fill="none" stroke="black" points="689.311,-44 572.442,-44 572.442,-0 689.311,-0 689.311,-44"/>
<text text-anchor="middle" x="630.877" y="-17.8" font-family="Times,serif" font-size="14.00">(round FRUIT2)</text>
</g>
<!-- n9&#45;&gt;n20 -->
<g id="edge14" class="edge"><title>n9-&gt;n20</title>
<path fill="none" stroke="black" d="M598.618,-79.8369C603.162,-71.8314 608.704,-62.0669 613.904,-52.9053"/>
<polygon fill="black" stroke="black" points="617.047,-54.4567 618.94,-44.0322 610.96,-51.0014 617.047,-54.4567"/>
</g>
<!-- n10 -->
<g id="node11" class="node"><title>n10</title>
<ellipse fill="none" stroke="black" cx="2038.88" cy="-98" rx="63.3097" ry="18"/>
<text text-anchor="middle" x="2038.88" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_round 0.5</text>
</g>
<!-- n25 -->
<g id="node26" class="node"><title>n25</title>
<polygon fill="none" stroke="black" points="2027.31,-40 1918.44,-40 1918.44,-4 2027.31,-4 2027.31,-40"/>
<polygon fill="none" stroke="black" points="2031.31,-44 1914.44,-44 1914.44,-0 2031.31,-0 2031.31,-44"/>
<text text-anchor="middle" x="1972.88" y="-17.8" font-family="Times,serif" font-size="14.00">(round FRUIT4)</text>
</g>
<!-- n10&#45;&gt;n25 -->
<g id="edge24" class="edge"><title>n10-&gt;n25</title>
<path fill="none" stroke="black" d="M2023.9,-80.2083C2016.4,-71.7963 2007.1,-61.3741 1998.51,-51.7394"/>
<polygon fill="black" stroke="black" points="2001.08,-49.3682 1991.82,-44.2349 1995.86,-54.0275 2001.08,-49.3682"/>
</g>
<!-- n11 -->
<g id="node12" class="node"><title>n11</title>
<ellipse fill="none" stroke="black" cx="400.877" cy="-98" rx="106.275" ry="18"/>
<text text-anchor="middle" x="400.877" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_yellow 0.9166666667</text>
</g>
<!-- n19 -->
<g id="node20" class="node"><title>n19</title>
<polygon fill="none" stroke="black" points="409.241,-40 294.513,-40 294.513,-4 409.241,-4 409.241,-40"/>
<polygon fill="none" stroke="black" points="413.253,-44 290.5,-44 290.5,-0 413.253,-0 413.253,-44"/>
<text text-anchor="middle" x="351.877" y="-17.8" font-family="Times,serif" font-size="14.00">(yellow FRUIT1)</text>
</g>
<!-- n11&#45;&gt;n19 -->
<g id="edge12" class="edge"><title>n11-&gt;n19</title>
<path fill="none" stroke="black" d="M389.512,-79.8369C384.156,-71.748 377.611,-61.8633 371.49,-52.6192"/>
<polygon fill="black" stroke="black" points="374.243,-50.4377 365.804,-44.0322 368.406,-54.3024 374.243,-50.4377"/>
</g>
<!-- n12 -->
<g id="node13" class="node"><title>n12</title>
<ellipse fill="none" stroke="black" cx="895.877" cy="-98" rx="106.275" ry="18"/>
<text text-anchor="middle" x="895.877" y="-93.8" font-family="Times,serif" font-size="14.00">etc1_yellow 0.9166666667</text>
</g>
<!-- n21 -->
<g id="node22" class="node"><title>n21</title>
<polygon fill="none" stroke="black" points="869.241,-40 754.513,-40 754.513,-4 869.241,-4 869.241,-40"/>
<polygon fill="none" stroke="black" points="873.253,-44 750.5,-44 750.5,-0 873.253,-0 873.253,-44"/>
<text text-anchor="middle" x="811.877" y="-17.8" font-family="Times,serif" font-size="14.00">(yellow FRUIT2)</text>
</g>
<!-- n12&#45;&gt;n21 -->
<g id="edge16" class="edge"><title>n12-&gt;n21</title>
<path fill="none" stroke="black" d="M876.816,-80.2083C866.984,-71.5464 854.732,-60.7532 843.528,-50.883"/>
<polygon fill="black" stroke="black" points="845.799,-48.2189 835.981,-44.2349 841.171,-53.4715 845.799,-48.2189"/>
</g>
<!-- n13&#45;&gt;n14 -->
<g id="edge3" class="edge"><title>n13-&gt;n14</title>
<path fill="none" stroke="black" d="M934.812,-164.603C895.354,-161.042 838.013,-155.983 787.877,-152 568.162,-134.545 507.945,-154.101 286.748,-115.928"/>
<polygon fill="black" stroke="black" points="287.228,-112.459 276.775,-114.187 286.025,-119.354 287.228,-112.459"/>
</g>
<!-- n13&#45;&gt;n15 -->
<g id="edge5" class="edge"><title>n13-&gt;n15</title>
<path fill="none" stroke="black" d="M935.055,-156.733C896.24,-146.713 839.852,-132.013 781.379,-116.112"/>
<polygon fill="black" stroke="black" points="782.165,-112.699 771.597,-113.446 780.324,-119.452 782.165,-112.699"/>
</g>
<!-- n13&#45;&gt;n16 -->
<g id="edge7" class="edge"><title>n13-&gt;n16</title>
<path fill="none" stroke="black" d="M1030.79,-156.933C1070,-146.969 1127.17,-132.251 1185.33,-116.395"/>
<polygon fill="black" stroke="black" points="1186.33,-119.75 1195.05,-113.736 1184.48,-112.998 1186.33,-119.75"/>
</g>
<!-- n13&#45;&gt;n17 -->
<g id="edge9" class="edge"><title>n13-&gt;n17</title>
<path fill="none" stroke="black" d="M1030.77,-164.405C1070.43,-160.706 1128.28,-155.555 1178.88,-152 1472.57,-131.367 1552.48,-164.773 1846.11,-116.084"/>
<polygon fill="black" stroke="black" points="1846.91,-119.498 1856.2,-114.393 1845.76,-112.594 1846.91,-119.498"/>
</g>
<!-- n14&#45;&gt;n18 -->
<g id="edge11" class="edge"><title>n14-&gt;n18</title>
<path fill="none" stroke="black" d="M208.946,-79.8369C200.555,-71.3311 190.205,-60.8395 180.691,-51.1952"/>
<polygon fill="black" stroke="black" points="183.139,-48.6932 173.625,-44.0322 178.156,-53.6092 183.139,-48.6932"/>
</g>
<!-- n14&#45;&gt;n19 -->
<g id="edge13" class="edge"><title>n14-&gt;n19</title>
<path fill="none" stroke="black" d="M255.1,-79.8369C270.577,-70.7473 289.915,-59.3901 307.228,-49.2225"/>
<polygon fill="black" stroke="black" points="309.215,-52.1145 316.065,-44.0322 305.67,-46.0785 309.215,-52.1145"/>
</g>
<!-- n15&#45;&gt;n20 -->
<g id="edge15" class="edge"><title>n15-&gt;n20</title>
<path fill="none" stroke="black" d="M700.003,-79.8369C689.455,-71.1643 676.396,-60.4273 664.48,-50.6289"/>
<polygon fill="black" stroke="black" points="666.404,-47.6798 656.457,-44.0322 661.958,-53.0868 666.404,-47.6798"/>
</g>
<!-- n15&#45;&gt;n21 -->
<g id="edge17" class="edge"><title>n15-&gt;n21</title>
<path fill="none" stroke="black" d="M741.983,-79.8369C752.75,-71.0809 766.106,-60.2206 778.248,-50.3465"/>
<polygon fill="black" stroke="black" points="780.463,-53.0569 786.013,-44.0322 776.046,-47.6259 780.463,-53.0569"/>
</g>
<!-- n16&#45;&gt;n22 -->
<g id="edge19" class="edge"><title>n16-&gt;n22</title>
<path fill="none" stroke="black" d="M1222.22,-79.8369C1210.04,-70.9975 1194.9,-60.0135 1181.18,-50.0646"/>
<polygon fill="black" stroke="black" points="1183.02,-47.0715 1172.87,-44.0322 1178.91,-52.7375 1183.02,-47.0715"/>
</g>
<!-- n16&#45;&gt;n23 -->
<g id="edge21" class="edge"><title>n16-&gt;n23</title>
<path fill="none" stroke="black" d="M1270.46,-79.8369C1283.24,-70.9141 1299.15,-59.8061 1313.51,-49.7833"/>
<polygon fill="black" stroke="black" points="1315.55,-52.6263 1321.75,-44.0322 1311.55,-46.8866 1315.55,-52.6263"/>
</g>
<!-- n17&#45;&gt;n24 -->
<g id="edge23" class="edge"><title>n17-&gt;n24</title>
<path fill="none" stroke="black" d="M1874.41,-79.8369C1856.97,-70.6223 1835.13,-59.0771 1815.69,-48.8034"/>
<polygon fill="black" stroke="black" points="1817.14,-45.611 1806.67,-44.0322 1813.87,-51.7997 1817.14,-45.611"/>
</g>
<!-- n17&#45;&gt;n25 -->
<g id="edge25" class="edge"><title>n17-&gt;n25</title>
<path fill="none" stroke="black" d="M1922.18,-79.8369C1929.62,-71.4979 1938.76,-61.2501 1947.22,-51.7634"/>
<polygon fill="black" stroke="black" points="1950.07,-53.8248 1954.12,-44.0322 1944.85,-49.1655 1950.07,-53.8248"/>
</g>
</g>
</svg>      

      <p>The last important thing to reiterate is that when you use Etcetera Abduction as a classification algorithm in this manner, you are no longer doing interpretation. The top solution in your list is <u>not</u> the best interpretation of the inputs, and you have <u>not</u> found the highest estimate of the true joint probability of the observables.</p>
      <p>This point can be easily demonstrated by putting in the prior probabilities for all of the predicates that we use in our knowledge base. To do this, let's add all of the prior probabilities for each of the observable features, using the data from our original table.</p>

      <pre>;; Prior probabilities of features

(if (etc0_yellow 0.9 x) (yellow x))
(if (etc0_not_yellow 0.1 x) (not_yellow x))
(if (etc0_round 0.33 x) (round x))
(if (etc0_not_round 0.67 x) (not_round x))
</pre>

      <p>With these quick changes, we get a top interpretation that is radically different than before:</p>

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="540pt" viewBox="0.00 0.00 1942.04 124.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 120)">
<title>proof</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-120 1938.04,-120 1938.04,4 -4,4"/>
<!-- n0 -->
<g id="node1" class="node"><title>n0</title>
<ellipse fill="none" stroke="black" cx="121.371" cy="-98" rx="121.243" ry="18"/>
<text text-anchor="middle" x="121.371" y="-93.8" font-family="Times,serif" font-size="14.00">(etc0_not_round 0.67 FRUIT1)</text>
</g>
<!-- n15 -->
<g id="node16" class="node"><title>n15</title>
<polygon fill="none" stroke="black" points="188.201,-40 54.542,-40 54.542,-4 188.201,-4 188.201,-40"/>
<polygon fill="none" stroke="black" points="192.196,-44 50.5469,-44 50.5469,-0 192.196,-0 192.196,-44"/>
<text text-anchor="middle" x="121.371" y="-17.8" font-family="Times,serif" font-size="14.00">(not_round FRUIT1)</text>
</g>
<!-- n0&#45;&gt;n15 -->
<g id="edge8" class="edge"><title>n0-&gt;n15</title>
<path fill="none" stroke="black" d="M121.371,-79.8369C121.371,-72.165 121.371,-62.8775 121.371,-54.0535"/>
<polygon fill="black" stroke="black" points="124.871,-54.0322 121.371,-44.0322 117.871,-54.0322 124.871,-54.0322"/>
</g>
<!-- n1 -->
<g id="node2" class="node"><title>n1</title>
<ellipse fill="none" stroke="black" cx="382.371" cy="-98" rx="121.243" ry="18"/>
<text text-anchor="middle" x="382.371" y="-93.8" font-family="Times,serif" font-size="14.00">(etc0_not_round 0.67 FRUIT3)</text>
</g>
<!-- n14 -->
<g id="node15" class="node"><title>n14</title>
<polygon fill="none" stroke="black" points="449.201,-40 315.542,-40 315.542,-4 449.201,-4 449.201,-40"/>
<polygon fill="none" stroke="black" points="453.196,-44 311.547,-44 311.547,-0 453.196,-0 453.196,-44"/>
<text text-anchor="middle" x="382.371" y="-17.8" font-family="Times,serif" font-size="14.00">(not_round FRUIT3)</text>
</g>
<!-- n1&#45;&gt;n14 -->
<g id="edge7" class="edge"><title>n1-&gt;n14</title>
<path fill="none" stroke="black" d="M382.371,-79.8369C382.371,-72.165 382.371,-62.8775 382.371,-54.0535"/>
<polygon fill="black" stroke="black" points="385.871,-54.0322 382.371,-44.0322 378.871,-54.0322 385.871,-54.0322"/>
</g>
<!-- n2 -->
<g id="node3" class="node"><title>n2</title>
<ellipse fill="none" stroke="black" cx="642.371" cy="-98" rx="120.274" ry="18"/>
<text text-anchor="middle" x="642.371" y="-93.8" font-family="Times,serif" font-size="14.00">(etc0_not_yellow 0.1 FRUIT3)</text>
</g>
<!-- n13 -->
<g id="node14" class="node"><title>n13</title>
<polygon fill="none" stroke="black" points="712.13,-40 572.613,-40 572.613,-4 712.13,-4 712.13,-40"/>
<polygon fill="none" stroke="black" points="716.137,-44 568.605,-44 568.605,-0 716.137,-0 716.137,-44"/>
<text text-anchor="middle" x="642.371" y="-17.8" font-family="Times,serif" font-size="14.00">(not_yellow FRUIT3)</text>
</g>
<!-- n2&#45;&gt;n13 -->
<g id="edge6" class="edge"><title>n2-&gt;n13</title>
<path fill="none" stroke="black" d="M642.371,-79.8369C642.371,-72.165 642.371,-62.8775 642.371,-54.0535"/>
<polygon fill="black" stroke="black" points="645.871,-54.0322 642.371,-44.0322 638.871,-54.0322 645.871,-54.0322"/>
</g>
<!-- n3 -->
<g id="node4" class="node"><title>n3</title>
<ellipse fill="none" stroke="black" cx="901.371" cy="-98" rx="120.274" ry="18"/>
<text text-anchor="middle" x="901.371" y="-93.8" font-family="Times,serif" font-size="14.00">(etc0_not_yellow 0.1 FRUIT4)</text>
</g>
<!-- n12 -->
<g id="node13" class="node"><title>n12</title>
<polygon fill="none" stroke="black" points="971.13,-40 831.613,-40 831.613,-4 971.13,-4 971.13,-40"/>
<polygon fill="none" stroke="black" points="975.137,-44 827.605,-44 827.605,-0 975.137,-0 975.137,-44"/>
<text text-anchor="middle" x="901.371" y="-17.8" font-family="Times,serif" font-size="14.00">(not_yellow FRUIT4)</text>
</g>
<!-- n3&#45;&gt;n12 -->
<g id="edge5" class="edge"><title>n3-&gt;n12</title>
<path fill="none" stroke="black" d="M901.371,-79.8369C901.371,-72.165 901.371,-62.8775 901.371,-54.0535"/>
<polygon fill="black" stroke="black" points="904.871,-54.0322 901.371,-44.0322 897.871,-54.0322 904.871,-54.0322"/>
</g>
<!-- n4 -->
<g id="node5" class="node"><title>n4</title>
<ellipse fill="none" stroke="black" cx="1145.37" cy="-98" rx="105.798" ry="18"/>
<text text-anchor="middle" x="1145.37" y="-93.8" font-family="Times,serif" font-size="14.00">(etc0_round 0.33 FRUIT2)</text>
</g>
<!-- n11 -->
<g id="node12" class="node"><title>n11</title>
<polygon fill="none" stroke="black" points="1199.81,-40 1090.93,-40 1090.93,-4 1199.81,-4 1199.81,-40"/>
<polygon fill="none" stroke="black" points="1203.81,-44 1086.94,-44 1086.94,-0 1203.81,-0 1203.81,-44"/>
<text text-anchor="middle" x="1145.37" y="-17.8" font-family="Times,serif" font-size="14.00">(round FRUIT2)</text>
</g>
<!-- n4&#45;&gt;n11 -->
<g id="edge4" class="edge"><title>n4-&gt;n11</title>
<path fill="none" stroke="black" d="M1145.37,-79.8369C1145.37,-72.165 1145.37,-62.8775 1145.37,-54.0535"/>
<polygon fill="black" stroke="black" points="1148.87,-54.0322 1145.37,-44.0322 1141.87,-54.0322 1148.87,-54.0322"/>
</g>
<!-- n5 -->
<g id="node6" class="node"><title>n5</title>
<ellipse fill="none" stroke="black" cx="1374.37" cy="-98" rx="105.798" ry="18"/>
<text text-anchor="middle" x="1374.37" y="-93.8" font-family="Times,serif" font-size="14.00">(etc0_round 0.33 FRUIT4)</text>
</g>
<!-- n10 -->
<g id="node11" class="node"><title>n10</title>
<polygon fill="none" stroke="black" points="1428.81,-40 1319.93,-40 1319.93,-4 1428.81,-4 1428.81,-40"/>
<polygon fill="none" stroke="black" points="1432.81,-44 1315.94,-44 1315.94,-0 1432.81,-0 1432.81,-44"/>
<text text-anchor="middle" x="1374.37" y="-17.8" font-family="Times,serif" font-size="14.00">(round FRUIT4)</text>
</g>
<!-- n5&#45;&gt;n10 -->
<g id="edge3" class="edge"><title>n5-&gt;n10</title>
<path fill="none" stroke="black" d="M1374.37,-79.8369C1374.37,-72.165 1374.37,-62.8775 1374.37,-54.0535"/>
<polygon fill="black" stroke="black" points="1377.87,-54.0322 1374.37,-44.0322 1370.87,-54.0322 1377.87,-54.0322"/>
</g>
<!-- n6 -->
<g id="node7" class="node"><title>n6</title>
<ellipse fill="none" stroke="black" cx="1602.37" cy="-98" rx="104.829" ry="18"/>
<text text-anchor="middle" x="1602.37" y="-93.8" font-family="Times,serif" font-size="14.00">(etc0_yellow 0.9 FRUIT1)</text>
</g>
<!-- n9 -->
<g id="node10" class="node"><title>n9</title>
<polygon fill="none" stroke="black" points="1659.74,-40 1545.01,-40 1545.01,-4 1659.74,-4 1659.74,-40"/>
<polygon fill="none" stroke="black" points="1663.75,-44 1540.99,-44 1540.99,-0 1663.75,-0 1663.75,-44"/>
<text text-anchor="middle" x="1602.37" y="-17.8" font-family="Times,serif" font-size="14.00">(yellow FRUIT1)</text>
</g>
<!-- n6&#45;&gt;n9 -->
<g id="edge2" class="edge"><title>n6-&gt;n9</title>
<path fill="none" stroke="black" d="M1602.37,-79.8369C1602.37,-72.165 1602.37,-62.8775 1602.37,-54.0535"/>
<polygon fill="black" stroke="black" points="1605.87,-54.0322 1602.37,-44.0322 1598.87,-54.0322 1605.87,-54.0322"/>
</g>
<!-- n7 -->
<g id="node8" class="node"><title>n7</title>
<ellipse fill="none" stroke="black" cx="1829.37" cy="-98" rx="104.829" ry="18"/>
<text text-anchor="middle" x="1829.37" y="-93.8" font-family="Times,serif" font-size="14.00">(etc0_yellow 0.9 FRUIT2)</text>
</g>
<!-- n8 -->
<g id="node9" class="node"><title>n8</title>
<polygon fill="none" stroke="black" points="1886.74,-40 1772.01,-40 1772.01,-4 1886.74,-4 1886.74,-40"/>
<polygon fill="none" stroke="black" points="1890.75,-44 1767.99,-44 1767.99,-0 1890.75,-0 1890.75,-44"/>
<text text-anchor="middle" x="1829.37" y="-17.8" font-family="Times,serif" font-size="14.00">(yellow FRUIT2)</text>
</g>
<!-- n7&#45;&gt;n8 -->
<g id="edge1" class="edge"><title>n7-&gt;n8</title>
<path fill="none" stroke="black" d="M1829.37,-79.8369C1829.37,-72.165 1829.37,-62.8775 1829.37,-54.0535"/>
<polygon fill="black" stroke="black" points="1832.87,-54.0322 1829.37,-44.0322 1825.87,-54.0322 1832.87,-54.0322"/>
</g>
</g>
</svg>
      
      <p>The most probable interpretation of the observables is that all of the observable features of these fruits are better explained by their prior probabilities than by a fruit category. That is, <code>FRUIT1</code> is not round because that often happens with fruit, and <code>FRUIT2</code> is not yellow for the same reason, and so on. To imagine that these four mysterious fruits are actually limes or lemons would require making unlikely assumptions, or at least less likely than just assuming the prior probabilities of the features. And we certainly should not prefer an interpretation where we imagine the existence of a tree in the backyard. Yes, those interpretations <u>are</u> in fact present in the long list of possible interpretations of these observations, but just not near the top. In short, interpretation is not the same task as classification.</p>
  </body>
</html>
